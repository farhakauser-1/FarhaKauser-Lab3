{"ast":null,"code":"import _regeneratorRuntime from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/farha/Downloads/GraphQL/GraphQL/frontend/src/components/Additems.js\";\nimport React, { Component } from 'react'; // import \"../../App.css\";\n\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { ROOT_URL } from '../../URL';\n\nvar AddItems =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddItems, _Component);\n\n  function AddItems(props) {\n    var _this;\n\n    _classCallCheck(this, AddItems);\n\n    // Call the constrictor of Super class i.e The Component\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddItems).call(this, props)); // maintain the state required for this component\n\n    _this.addToMenu = function (e) {\n      if (_this.state.itemname && _this.state.description && _this.state.price) {\n        e.preventDefault();\n        console.log(e.target.id);\n        var dummy = _this.state.ITEMLIST;\n        console.log('Before' + JSON.stringify(dummy));\n        console.log('Proper' + dummy);\n        dummy.forEach(function (iteration) {\n          console.log(iteration);\n\n          if (iteration.Section == e.target.id) {\n            var data = {\n              item: _this.state.itemname,\n              cost: _this.state.price\n            };\n            iteration.items.push(data);\n          }\n\n          console.log('After' + JSON.stringify(dummy));\n        });\n\n        _this.setState({\n          ITEMLIST: dummy\n        });\n\n        var data = {\n          Section: e.target.id,\n          RestaurantName: localStorage.getItem('RestaurantName'),\n          Menu: _this.state.ITEMLIST,\n          item: _this.state.itemname,\n          cost: _this.state.price\n        };\n        console.log(data);\n        axios.post(\"\".concat(ROOT_URL, \"/additems/\"), data, {\n          headers: {\n            Authorization: \"Bearer \".concat(localStorage.getItem('JWT'))\n          }\n        }).then(function (response) {\n          console.log('Onclick');\n          console.log(dummy);\n          console.log(response.data);\n\n          if (response.data == 'Success') {\n            // dummy.push(data)\n            // this.setState({ ITEMLIST: dummy })\n            console.log(dummy);\n          }\n        }).catch(function () {\n          console.log('Hello');\n\n          _this.props.history.push('/owner/ownerlogin');\n        });\n\n        _this.setState({\n          itemname: ''\n        });\n\n        _this.setState({\n          description: ''\n        });\n\n        _this.setState({\n          price: ''\n        });\n      }\n    };\n\n    _this.addcategory = function (e) {\n      if (_this.state.addcategory) {\n        e.preventDefault();\n        console.log('before' + _this.state.ITEMLIST);\n        var dummy = _this.state.ITEMLIST;\n        var data = {\n          Section: _this.state.addcategory,\n          RestaurantName: localStorage.getItem('RestaurantName')\n        };\n        axios.post(\"\".concat(ROOT_URL, \"/addcategory/\"), data, {\n          headers: {\n            Authorization: \"Bearer \".concat(localStorage.getItem('JWT'))\n          }\n        }).then(function (response) {\n          console.log(response.data);\n\n          if (response.data == 'Success') {\n            dummy.push({\n              Section: _this.state.addcategory,\n              items: []\n            });\n\n            _this.setState({\n              ITEMLIST: dummy\n            });\n\n            console.log('aftr' + _this.state.ITEMLIST); // this.state.history.push('/owner/additems')\n          }\n        });\n      }\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.state = {\n      nameOfRestaurant: localStorage.getItem('RestaurantName'),\n      ITEMLIST: [],\n      price: '',\n      description: '',\n      itemname: '',\n      addcategory: ''\n    };\n    _this.addToMenu = _this.addToMenu.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addcategory = _this.addcategory.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteItem = _this.deleteItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteCategory = _this.deleteCategory.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateItem = _this.updateItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddItems, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"\".concat(ROOT_URL, \"/fetchitems/\").concat(this.state.nameOfRestaurant), {\n                  headers: {\n                    Authorization: \"Bearer \".concat(localStorage.getItem('JWT'))\n                  }\n                }).then(function (response) {\n                  console.log('Onclick');\n                  console.log(response.data);\n\n                  if (response.data != 'No Such item') {\n                    _this2.setState({\n                      ITEMLIST: JSON.parse(JSON.stringify(response.data))\n                    }, function () {\n                      console.log('new' + JSON.stringify(_this2.state.ITEMLIST));\n                    });\n                  }\n                }).catch(function () {\n                  console.log('Hello');\n                  localStorage.setItem('auth', 'false');\n                  localStorage.removeItem('auth');\n\n                  _this2.props.history.push('/owner/ownerlogin');\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"updateItem\",\n    value: function updateItem(x, it) {\n      localStorage.setItem('updateitem', JSON.stringify(x));\n      localStorage.setItem('updatecategory', it.Section);\n      this.props.history.push('/owner/updateitem');\n    }\n  }, {\n    key: \"deleteCategory\",\n    value: function deleteCategory(it) {\n      console.log(it);\n      var array = this.state.ITEMLIST;\n      console.log('Before Deletetion' + JSON.stringify(this.state.ITEMLIST));\n\n      for (var i in array) {\n        console.log('yo');\n        if (array[i].Section == it.Section) array.splice(i, 1);\n      }\n\n      console.log(array);\n      this.setState({\n        ITEMLIST: array\n      });\n      var data = {\n        newmenu: this.state.ITEMLIST,\n        RestaurantName: localStorage.getItem('RestaurantName')\n      };\n      console.log(data);\n      axios.post(\"\".concat(ROOT_URL, \"/deleteitems/\"), data, {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem('JWT'))\n        }\n      }).then(function (response) {\n        console.log('Deleted');\n        console.log(response.data);\n      });\n    }\n  }, {\n    key: \"deleteItem\",\n    value: function deleteItem(it) {\n      var deleteable = it.split('-');\n      console.log('Section and item' + deleteable);\n      var array = this.state.ITEMLIST; // make a separate copy of the array\n\n      console.log(this.setState.ITEMLIST);\n\n      for (var i in array) {\n        if (array[i].Section === deleteable[0]) {\n          console.log('Index found' + i);\n          console.log(array[i]); // got section\n\n          for (var j in array[i].items) {\n            if (array[i].items[j].item == deleteable[1]) {\n              console.log('In second loop' + array[i].items[j].item);\n              break;\n            }\n          }\n\n          array[i].items.splice(j, 1);\n          this.setState({\n            ITEMLIST: array\n          });\n          console.log(this.setState.ITEMLIST);\n          {\n            var data = {\n              newmenu: this.state.ITEMLIST,\n              RestaurantName: localStorage.getItem('RestaurantName'),\n              item: deleteable[1]\n            };\n            console.log(data);\n            axios.post(\"\".concat(ROOT_URL, \"/deleteitems/\"), data).then(function (response) {\n              console.log('Deleted');\n              console.log(response.data);\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var redirectVar = null;\n      var noitems = null;\n      /* if (!cookie.load('owner')) {\n        console.log('checking redirection')\n        redirectVar = <Redirect to='/owner/ownerlogin' />\n      } */\n\n      var arr = this.state.ITEMLIST;\n      console.log('length' + arr.length);\n      arr.forEach(function (x) {\n        console.log(x.Section);\n      });\n      setTimeout(function () {\n        console.log('Going to check length');\n      }, 2000);\n\n      if (arr.length === 0) {\n        noitems = null;\n      } else {\n        if (this.state && this.state.ITEMLIST) {\n          noitems = React.createElement(\"table\", {\n            class: \"table\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          }, React.createElement(\"tbody\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }, this.state.ITEMLIST.map(function (it) {\n            return React.createElement(\"tr\", {\n              key: it.Section,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 216\n              },\n              __self: this\n            }, React.createElement(\"thead\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 217\n              },\n              __self: this\n            }, React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 218\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              },\n              __self: this\n            }, React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 220\n              },\n              __self: this\n            }, \"CATEGORY:\", it.Section)), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 222\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              id: it.Section,\n              className: \"btn btn-danger m-2\",\n              onClick: function onClick() {\n                return _this3.deleteCategory(it);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223\n              },\n              __self: this\n            }, \"DELETE CATEGORY\"))), React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 232\n              },\n              __self: this\n            }, React.createElement(\"th\", {\n              scope: \"Restaurant\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 233\n              },\n              __self: this\n            }, \"ITEMS\"), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 235\n              },\n              __self: this\n            }, \"PRICE \")), it.items ? it.items.length : 0), it.items ? it.items.map(function (x) {\n              return React.createElement(\"tr\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 241\n                },\n                __self: this\n              }, React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 242\n                },\n                __self: this\n              }, x.item), React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 244\n                },\n                __self: this\n              }, x.cost), React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 246\n                },\n                __self: this\n              }, React.createElement(\"button\", {\n                id: it.Section + '-' + x.item,\n                className: \"btn btn-danger m-2\",\n                onClick: function onClick() {\n                  return _this3.deleteItem(it.Section + '-' + x.item);\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 247\n                },\n                __self: this\n              }, \"DELETE ITEM\")), React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 257\n                },\n                __self: this\n              }, React.createElement(\"button\", {\n                id: it.Section,\n                className: \"btn btn-danger m-2\",\n                onClick: function onClick() {\n                  return _this3.updateItem(x, it);\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 258\n                },\n                __self: this\n              }, \"UPDATE ITEM\")));\n            }) : null, React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 269\n              },\n              __self: this\n            }, React.createElement(\"table\", {\n              class: \"table\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 270\n              },\n              __self: this\n            }, React.createElement(\"thead\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 271\n              },\n              __self: this\n            }, React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 272\n              },\n              __self: this\n            }, React.createElement(\"th\", {\n              scope: \"Restaurant\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 273\n              },\n              __self: this\n            }, \"ITEMS\"), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 274\n              },\n              __self: this\n            }, \"DESCRIPTION \"), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 275\n              },\n              __self: this\n            }, \"PRICE \"))), React.createElement(\"tbody\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 278\n              },\n              __self: this\n            }, React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 279\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 280\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              id: \"itemname\",\n              type: \"text\",\n              onChange: _this3.handleChange,\n              value: _this3.state.itemname,\n              required: \"required\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 281\n              },\n              __self: this\n            })), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 289\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              id: \"description\",\n              type: \"text\",\n              value: _this3.state.description,\n              onChange: _this3.handleChange,\n              required: \"required\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 290\n              },\n              __self: this\n            })), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 298\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              id: \"price\",\n              type: \"number\",\n              value: _this3.state.price,\n              onChange: _this3.handleChange,\n              required: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 299\n              },\n              __self: this\n            }))))), React.createElement(\"div\", {\n              align: \"center\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 310\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              id: it.Section,\n              className: \"btn btn-secondary m-2\",\n              onClick: _this3.addToMenu,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 311\n              },\n              __self: this\n            }, \"ADD ITEM TO \", it.Section))));\n          })));\n        }\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card\\xA0text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"btn-primary\\xA0m-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, localStorage.getItem('RestaurantName'), \"\\xA0RESTAURANT\")), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"addcategory\",\n        type: \"text\",\n        value: this.state.addcategory,\n        onChange: this.handleChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"addcategory\",\n        className: \"btn btn-secondary m-2\",\n        onClick: this.addcategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, \"ADD CATEGORY\"))), noitems);\n    }\n  }]);\n\n  return AddItems;\n}(Component);\n\nexport default AddItems;","map":{"version":3,"sources":["/Users/farha/Downloads/GraphQL/GraphQL/frontend/src/components/Additems.js"],"names":["React","Component","axios","cookie","Redirect","ROOT_URL","AddItems","props","addToMenu","e","state","itemname","description","price","preventDefault","console","log","target","id","dummy","ITEMLIST","JSON","stringify","forEach","iteration","Section","data","item","cost","items","push","setState","RestaurantName","localStorage","getItem","Menu","post","headers","Authorization","then","response","catch","history","addcategory","handleChange","event","value","nameOfRestaurant","bind","deleteItem","deleteCategory","updateItem","get","parse","setItem","removeItem","x","it","array","i","splice","newmenu","deleteable","split","j","redirectVar","noitems","arr","length","setTimeout","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n// import \"../../App.css\";\nimport axios from 'axios'\nimport cookie from 'react-cookies'\nimport { Redirect } from 'react-router'\n\nimport { ROOT_URL } from '../../URL'\n\nclass AddItems extends Component {\n  constructor (props) {\n    // Call the constrictor of Super class i.e The Component\n    super(props)\n    // maintain the state required for this component\n    this.state = {\n      nameOfRestaurant: localStorage.getItem('RestaurantName'),\n      ITEMLIST: [],\n      price: '',\n      description: '',\n      itemname: '',\n      addcategory: ''\n    }\n    this.addToMenu = this.addToMenu.bind(this)\n    this.addcategory = this.addcategory.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.deleteItem = this.deleteItem.bind(this)\n    this.deleteCategory = this.deleteCategory.bind(this)\n    this.updateItem = this.updateItem.bind(this)\n  }\n  async componentWillMount () {\n    await axios\n      .get(`${ROOT_URL}/fetchitems/${this.state.nameOfRestaurant}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('JWT')}` }\n      })\n      .then(response => {\n        console.log('Onclick')\n        console.log(response.data)\n        if (response.data != 'No Such item') {\n          this.setState(\n            { ITEMLIST: JSON.parse(JSON.stringify(response.data)) },\n            () => {\n              console.log('new' + JSON.stringify(this.state.ITEMLIST))\n            }\n          )\n        }\n      })\n      .catch(() => {\n        console.log('Hello')\n        localStorage.setItem('auth', 'false')\n        localStorage.removeItem('auth')\n        this.props.history.push('/owner/ownerlogin')\n      })\n  }\n  addToMenu = e => {\n    if (this.state.itemname && this.state.description && this.state.price) {\n      e.preventDefault()\n      console.log(e.target.id)\n      var dummy = this.state.ITEMLIST\n      console.log('Before' + JSON.stringify(dummy))\n      console.log('Proper' + dummy)\n      dummy.forEach(iteration => {\n        console.log(iteration)\n        if (iteration.Section == e.target.id) {\n          var data = { item: this.state.itemname, cost: this.state.price }\n\n          iteration.items.push(data)\n        }\n        console.log('After' + JSON.stringify(dummy))\n      })\n      this.setState({ ITEMLIST: dummy })\n      var data = {\n        Section: e.target.id,\n        RestaurantName: localStorage.getItem('RestaurantName'),\n        Menu: this.state.ITEMLIST,\n        item: this.state.itemname,\n        cost: this.state.price\n      }\n      console.log(data)\n      axios\n        .post(`${ROOT_URL}/additems/`, data, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('JWT')}` }\n        })\n        .then(response => {\n          console.log('Onclick')\n          console.log(dummy)\n          console.log(response.data)\n          if (response.data == 'Success') {\n            // dummy.push(data)\n            // this.setState({ ITEMLIST: dummy })\n            console.log(dummy)\n          }\n        })\n        .catch(() => {\n          console.log('Hello')\n          this.props.history.push('/owner/ownerlogin')\n        })\n      this.setState({ itemname: '' })\n      this.setState({ description: '' })\n      this.setState({ price: '' })\n    }\n  }\n  addcategory = e => {\n    if (this.state.addcategory) {\n      e.preventDefault()\n      console.log('before' + this.state.ITEMLIST)\n      var dummy = this.state.ITEMLIST\n      var data = {\n        Section: this.state.addcategory,\n        RestaurantName: localStorage.getItem('RestaurantName')\n      }\n      axios\n        .post(`${ROOT_URL}/addcategory/`, data, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('JWT')}` }\n        })\n        .then(response => {\n          console.log(response.data)\n          if (response.data == 'Success') {\n            dummy.push({ Section: this.state.addcategory, items: [] })\n            this.setState({ ITEMLIST: dummy })\n            console.log('aftr' + this.state.ITEMLIST)\n            // this.state.history.push('/owner/additems')\n          }\n        })\n    }\n  }\n  updateItem (x, it) {\n    localStorage.setItem('updateitem', JSON.stringify(x))\n    localStorage.setItem('updatecategory', it.Section)\n    this.props.history.push('/owner/updateitem')\n  }\n  deleteCategory (it) {\n    console.log(it)\n    var array = this.state.ITEMLIST\n    console.log('Before Deletetion' + JSON.stringify(this.state.ITEMLIST))\n    for (var i in array) {\n      console.log('yo')\n      if (array[i].Section == it.Section) array.splice(i, 1)\n    }\n    console.log(array)\n    this.setState({ ITEMLIST: array })\n    var data = {\n      newmenu: this.state.ITEMLIST,\n      RestaurantName: localStorage.getItem('RestaurantName')\n    }\n    console.log(data)\n    axios\n      .post(`${ROOT_URL}/deleteitems/`, data, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('JWT')}` }\n      })\n      .then(response => {\n        console.log('Deleted')\n        console.log(response.data)\n      })\n  }\n  deleteItem (it) {\n    var deleteable = it.split('-')\n    console.log('Section and item' + deleteable)\n    var array = this.state.ITEMLIST // make a separate copy of the array\n    console.log(this.setState.ITEMLIST)\n    for (var i in array) {\n      if (array[i].Section === deleteable[0]) {\n        console.log('Index found' + i)\n        console.log(array[i]) // got section\n        for (var j in array[i].items) {\n          if (array[i].items[j].item == deleteable[1]) {\n            console.log('In second loop' + array[i].items[j].item)\n            break\n          }\n        }\n        array[i].items.splice(j, 1)\n        this.setState({ ITEMLIST: array })\n        console.log(this.setState.ITEMLIST)\n        {\n          var data = {\n            newmenu: this.state.ITEMLIST,\n            RestaurantName: localStorage.getItem('RestaurantName'),\n            item: deleteable[1]\n          }\n          console.log(data)\n          axios.post(`${ROOT_URL}/deleteitems/`, data).then(response => {\n            console.log('Deleted')\n            console.log(response.data)\n          })\n        }\n      }\n    }\n  }\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    })\n  }\n  render () {\n    let redirectVar = null\n    let noitems = null\n    /* if (!cookie.load('owner')) {\n      console.log('checking redirection')\n      redirectVar = <Redirect to='/owner/ownerlogin' />\n    } */\n    var arr = this.state.ITEMLIST\n    console.log('length' + arr.length)\n    arr.forEach(x => {\n      console.log(x.Section)\n    })\n\n    setTimeout(function () {\n      console.log('Going to check length')\n    }, 2000)\n    if (arr.length === 0) {\n      noitems = null\n    } else {\n      if (this.state && this.state.ITEMLIST) {\n        noitems = (\n          <table class='table'>\n            <tbody>\n              {this.state.ITEMLIST.map(it => (\n                <tr key={it.Section}>\n                  <thead>\n                    <th>\n                      <td>\n                        <h3>CATEGORY:{it.Section}</h3>\n                      </td>\n                      <td>\n                        <button\n                          id={it.Section}\n                          className='btn btn-danger m-2'\n                          onClick={() => this.deleteCategory(it)}\n                        >\n                          DELETE CATEGORY\n                        </button>\n                      </td>\n                    </th>\n                    <tr>\n                      <th scope='Restaurant'>ITEMS</th>\n\n                      <th>PRICE </th>\n                    </tr>\n                    {it.items ? it.items.length : 0}\n                  </thead>\n                  {it.items\n                    ? it.items.map(x => (\n                      <tr>\n                        <td>{x.item}</td>\n\n                        <td>{x.cost}</td>\n\n                        <td>\n                          <button\n                            id={it.Section + '-' + x.item}\n                            className='btn btn-danger m-2'\n                            onClick={() =>\n                              this.deleteItem(it.Section + '-' + x.item)\n                            }\n                          >\n                              DELETE ITEM\n                          </button>\n                        </td>\n                        <td>\n                          <button\n                            id={it.Section}\n                            className='btn btn-danger m-2'\n                            onClick={() => this.updateItem(x, it)}\n                          >\n                              UPDATE ITEM\n                          </button>\n                        </td>\n                      </tr>\n                    ))\n                    : null}\n                  <tr>\n                    <table class='table'>\n                      <thead>\n                        <tr>\n                          <th scope='Restaurant'>ITEMS</th>\n                          <th>DESCRIPTION </th>\n                          <th>PRICE </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td>\n                            <input\n                              id='itemname'\n                              type='text'\n                              onChange={this.handleChange}\n                              value={this.state.itemname}\n                              required='required'\n                            />\n                          </td>\n                          <td>\n                            <input\n                              id='description'\n                              type='text'\n                              value={this.state.description}\n                              onChange={this.handleChange}\n                              required='required'\n                            />\n                          </td>\n                          <td>\n                            <input\n                              id='price'\n                              type='number'\n                              value={this.state.price}\n                              onChange={this.handleChange}\n                              required\n                            />\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <div align='center'>\n                      <button\n                        id={it.Section}\n                        className='btn btn-secondary m-2'\n                        onClick={this.addToMenu}\n                      >\n                        ADD ITEM TO {it.Section}\n                      </button>\n                    </div>\n                  </tr>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )\n      }\n    }\n\n    return (\n      <div>\n        <div class='card text-center'>\n          <h1 className='btn-primary m-2'>\n            {localStorage.getItem('RestaurantName')} RESTAURANT\n          </h1>\n        </div>\n        <form>\n          <div align='left'>\n            <input\n              id='addcategory'\n              type='text'\n              value={this.state.addcategory}\n              onChange={this.handleChange}\n              required\n            />\n\n            <button\n              id='addcategory'\n              className='btn btn-secondary m-2'\n              onClick={this.addcategory}\n            >\n              ADD CATEGORY\n            </button>\n          </div>\n        </form>\n        {noitems}\n      </div>\n    )\n  }\n}\n\nexport default AddItems\n"]},"metadata":{},"sourceType":"module"}